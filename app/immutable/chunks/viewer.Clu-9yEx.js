import{a as Z,t as oe}from"./disclose-version.DfSDX_JF.js";import{a6 as we,k as ke,an as fe,i as k,s as P,j as Ee,a1 as ue,K as Ae,ac as ce,H as Ie,l as Q,m as V,t as C,a9 as Ne,n as _e,o as ve,p as xe,ao as Te,q as $,G as W,ap as q,D as z,aq as F,ar as Ce,Z as Se,B as j,as as Me,ab as de,at as De,a2 as Le,au as me,_ as Oe,av as Re,aw as He,J as ee,ax as Be,am as Pe,ay as Ve,r as ze,ae as $e,a4 as re,af as qe,x as Fe,g as E,al as Ue,v as L,w as S}from"./runtime.BH8iLNxb.js";import{i as Ye,c as ae,d as Ge,n as Xe,a as Ke,s as Je}from"./render.C148xar-.js";import{p as Ze}from"./props.CRGB_jtC.js";let O=null;function Nr(e){O=e}function Qe(e,r){return r}function We(e,r,a,t){for(var s=[],l=r.length,n=0;n<l;n++)Me(r[n].e,s,!0);var y=l>0&&s.length===0&&a!==null;if(y){var w=a.parentNode;de(w),w.append(a),t.clear(),I(e,r[0].prev,r[l-1].next)}De(s,()=>{for(var h=0;h<l;h++){var v=r[h];y||(t.delete(v.k),I(e,v.prev,v.next)),Le(v.e,!y)}})}function je(e,r,a,t,s,l=null){var n=e,y={flags:r,items:new Map,first:null},w=(r&fe)!==0;if(w){var h=e;n=k?P(ue(h)):h.appendChild(we())}k&&Ee();var v=null;ke(()=>{var i=a(),g=Ae(i)?i:i==null?[]:ce(i),_=g.length;let d=!1;if(k){var p=n.data===Ie;p!==(_===0)&&(n=Q(),P(n),V(!1),d=!0)}if(k){for(var u=null,c,b=0;b<_;b++){if(C.nodeType===8&&C.data===Ne){n=C,d=!0,V(!1);break}var o=g[b],f=t(o,b);c=he(C,y,u,null,o,f,b,s,r),y.items.set(f,c),u=c}_>0&&P(Q())}k||er(g,y,n,s,r,t),l!==null&&(_===0?v?_e(v):v=ve(()=>l(n)):v!==null&&xe(v,()=>{v=null})),d&&V(!0)}),k&&(n=C)}function er(e,r,a,t,s,l){var Y,G,X,K;var n=(s&me)!==0,y=(s&(q|F))!==0,w=e.length,h=r.items,v=r.first,i=v,g,_=null,d,p=[],u=[],c,b,o,f;if(n)for(f=0;f<w;f+=1)c=e[f],b=l(c,f),o=h.get(b),o!==void 0&&((Y=o.a)==null||Y.measure(),(d??(d=new Set)).add(o));for(f=0;f<w;f+=1){if(c=e[f],b=l(c,f),o=h.get(b),o===void 0){var D=i?i.e.nodes_start:a;_=he(D,r,_,_===null?r.first:_.next,c,b,f,t,s),h.set(b,_),p=[],u=[],i=_.next;continue}if(y&&rr(o,c,f,s),o.e.f&Te&&(_e(o.e),n&&((G=o.a)==null||G.unfix(),(d??(d=new Set)).delete(o))),o!==i){if(g!==void 0&&g.has(o)){if(p.length<u.length){var N=u[0],A;_=N.prev;var U=p[0],H=p[p.length-1];for(A=0;A<p.length;A+=1)te(p[A],N,a);for(A=0;A<u.length;A+=1)g.delete(u[A]);I(r,U.prev,H.next),I(r,_,U),I(r,H,N),i=N,_=H,f-=1,p=[],u=[]}else g.delete(o),te(o,i,a),I(r,o.prev,o.next),I(r,o,_===null?r.first:_.next),I(r,_,o),_=o;continue}for(p=[],u=[];i!==null&&i.k!==b;)(g??(g=new Set)).add(i),u.push(i),i=i.next;if(i===null)continue;o=i}p.push(o),_=o,i=o.next}if(i!==null||g!==void 0){for(var T=g===void 0?[]:ce(g);i!==null;)T.push(i),i=i.next;var B=T.length;if(B>0){var ye=s&fe&&w===0?a:null;if(n){for(f=0;f<B;f+=1)(X=T[f].a)==null||X.measure();for(f=0;f<B;f+=1)(K=T[f].a)==null||K.fix()}We(r,T,ye,h)}}n&&$(()=>{var J;if(d!==void 0)for(o of d)(J=o.a)==null||J.apply()}),W.first=r.first&&r.first.e,W.last=_&&_.e}function rr(e,r,a,t){t&q&&z(e.v,r),t&F?z(e.i,a):e.i=a}function he(e,r,a,t,s,l,n,y,w){var h=O;try{var v=(w&q)!==0,i=(w&Ce)===0,g=v?i?Se(s):j(s):s,_=w&F?j(n):n,d={i:_,v:g,k:l,a:null,e:null,prev:a,next:t};return O=d,d.e=ve(()=>y(e,g,_),k),d.e.prev=a&&a.e,d.e.next=t&&t.e,a===null?r.first=d:(a.next=d,a.e.next=d.e),t!==null&&(t.prev=d,t.e.prev=d.e),d}finally{O=h}}function te(e,r,a){for(var t=e.next?e.next.e.nodes_start:a,s=r?r.e.nodes_start:a,l=e.e.nodes_start;l!==t;){var n=Oe(l);s.before(l),l=n}}function I(e,r,a){r===null?e.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}function ar(e,r){if(r){const a=document.body;e.autofocus=!0,$(()=>{document.activeElement===a&&e.focus()})}}function xr(e){k&&ue(e)!==null&&de(e)}let se=!1;function pe(){se||(se=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var r;if(!e.defaultPrevented)for(const a of e.target.elements)(r=a.__on_r)==null||r.call(a)})},{capture:!0}))}function tr(e){if(k){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var t=e.value;M(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var s=e.checked;M(e,"checked",null),e.checked=s}}};e.__on_r=a,Re(a),pe()}}function M(e,r,a,t){var s=e.__attributes??(e.__attributes={});k&&(s[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||s[r]!==(s[r]=a)&&(r==="loading"&&(e[He]=a),a==null?e.removeAttribute(r):typeof a!="string"&&ge(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function sr(e,r,a){if(r in e){try{var t=e[r]}catch{M(e,r,a);return}var s=typeof t=="boolean"&&a===""?!0:a;(typeof t!="object"||t!==s)&&(e[r]=s)}else M(e,r,a)}function nr(e,r,a,t,s=!1,l){var n=r||{},y=e.tagName==="OPTION";for(var w in r)w in a||(a[w]=null);var h=ne.get(e.nodeName);h||ne.set(e.nodeName,h=ge(e));var v=e.__attributes??(e.__attributes={}),i=[];for(const u in a){let c=a[u];if(y&&u==="value"&&c==null){e.value=e.__value="",n[u]=c;continue}var g=n[u];if(c!==g){n[u]=c;var _=u[0]+u[1];if(_!=="$$")if(_==="on"){const b={},o="$$"+u;let f=u.slice(2);var d=Ke(f);if(Ye(f)&&(f=f.slice(0,-7),b.capture=!0),!d&&g){if(c!=null)continue;e.removeEventListener(f,n[o],b),n[o]=null}if(c!=null)if(d)e[`__${f}`]=c,Ge([f]);else{let D=function(N){n[u].call(this,N)};r?n[o]=ae(f,e,D,b):i.push([u,c,()=>n[o]=ae(f,e,D,b)])}}else if(c==null)v[u]=null,e.removeAttribute(u);else if(u==="style")e.style.cssText=c+"";else if(u==="autofocus")ar(e,!!c);else if(u==="__value"||u==="value")e.value=e[u]=e.__value=c;else{var p=u;s||(p=Xe(p)),h.includes(p)&&typeof c!="string"?e[p]=c:typeof c!="function"&&(k&&(p==="src"||p==="href"||p==="srcset")||M(e,p,c))}}}return r||$(()=>{if(e.isConnected)for(const[u,c,b]of i)n[u]===c&&b()}),n}function Tr(e,r,a,t){if(e.tagName.includes("-")){for(var s in r)s in a||(a[s]=null);for(s in a)sr(e,s,a[s]);return a}return nr(e,r,a,t,e.namespaceURI!==Pe)}var ne=new Map;function ge(e){for(var r=[],a,t=ee(e);t.constructor.name!=="Element";){a=Be(t);for(var s in a)a[s].set&&r.push(s);t=ee(t)}return r}function ir(e,r){var a=e.__className,t=lr(r);k&&e.className===t?e.__className=t:(a!==t||k&&e.className!==t)&&(r==null?e.removeAttribute("class"):e.className=t,e.__className=t)}function lr(e){return e??""}function x(e,r,a,t,s){var l=e.__attributes??(e.__attributes={}),n=e.style,y="style-"+r;l[y]===a&&!s||(l[y]=a,a==null?n.removeProperty(r):n.setProperty(r,a,""))}function or(e,r,a,t=a){e.addEventListener(r,a);const s=e.__on_r;s?e.__on_r=()=>{s(),t()}:e.__on_r=t,pe()}function fr(e,r,a=r){var t=Ve();or(e,"input",()=>{var s=ie(e)?le(e.value):e.value;a(s),t&&s!==(s=r())&&(e.value=s??"")}),ze(()=>{var s=r();if(k&&e.defaultValue!==e.value){a(e.value);return}ie(e)&&s===le(e.value)||e.type==="date"&&!s&&!e.value||(e.value=s??"")})}function ie(e){var r=e.type;return r==="number"||r==="range"}function le(e){return e===""?null:+e}const m={color:"#fff",bold:!1,italic:!1,shadow:!1,uppercase:!1,width:"normal"},R="$",ur=["i","o","s","w","n","g","m","z","t"],cr="0123456789ABCDEF";function be(e){e[0]=="#"&&(e=e.slice(1));var r=parseInt(e,16),a=r>>16&255,t=r>>8&255,s=r&255;return[a,t,s]}function _r(e,r,a){return"#"+(1<<24|e<<16|r<<8|a).toString(16).slice(1)}function vr(e,r,a){return"#"+[e,r,a].map(t=>Math.round(t/17).toString(16)).join("")}function Cr(e){let r=be(e);return vr(r[0],r[1],r[2])}function Sr(e){let r=be(e);for(let a=0;a<3;a++)r[a]=Math.round(r[a]/17)*17;return _r(r[0],r[1],r[2])}function dr(e){switch(e){case"i":return 2;case"o":return 1;case"s":return 5;case"w":return 4;case"n":return 3;case"g":return 10;case"m":return 11;case"z":return 12;case"t":return 8;default:return 7}}function hr(e){if(e[0]!=R||e.length<2)return{is_color:!1,color_value:"",skip:0};let r=e.slice(1),a=0;for(let s=0;s<3&&!(r.length<s+1||!cr.includes(r[s].toUpperCase()));s++)a++;if(a==0)return{is_color:!1,color_value:"",skip:0};let t="";for(let s=0;s<a;s++)t+=r[s];return t=t.padEnd(3,"0"),{is_color:!0,color_value:t,skip:a}}function pr(e){if(e[0]!=R)return{type:0,value:e[0],skip:0};if(e.length==1)return{type:7,value:e[0],skip:0};if(e[1]==R)return{type:9,value:R,skip:1};let{is_color:r,color_value:a,skip:t}=hr(e);return r?{type:6,value:a,skip:t}:ur.includes(e[1])?{type:dr(e[1]),value:"",skip:1}:{type:7,value:e[1],skip:1}}function gr(e){let r=[];for(let a=0;a<e.length;a++){let t=pr(e.slice(a));r.push(t),a+=t.skip}return r}function br(e){let r=gr(e),a=[],t={...m},s=(l,n)=>l.color==n.color&&l.bold==n.bold&&l.italic==n.italic&&l.shadow==n.shadow&&l.width==n.width&&l.uppercase==n.uppercase;for(const l of r){if(l.type==0||l.type==9){a.length==0||!s(a[a.length-1].style,t)?a.push({style:{...t},text:l.value}):a[a.length-1].text+=l.value;continue}switch(l.type){case 1:t.bold=!t.bold;break;case 2:t.italic=!t.italic;break;case 8:t.uppercase=!t.uppercase;break;case 5:t.shadow=!0;break;case 4:t.width="wide";break;case 3:t.width="narrow";break;case 6:t.color="#"+l.value;break;case 10:t.color=m.color;break;case 11:t.width=m.width;break;case 12:t={...m};break}}return console.log(a),a}var yr=oe("<span> </span>"),wr=oe('<section><div class="flex row align-center" style="gap:1rem;"><div id="result" class="grow svelte-73bbtl"></div> <div class="shrink"><input title="Background Color" id="bgcolor" type="color"></div></div></section>');function Mr(e,r){$e(r,!0);let a=Ue("#000000"),t=Ze(r,"tm_text",3,"");var s=wr(),l=L(s),n=L(l);je(n,21,()=>br(t()),Qe,(h,v)=>{var i=yr(),g=L(i);S(i),re(()=>{ir(i,`${E(v).style.width??""} svelte-73bbtl`),x(i,"color",E(v).style.color),x(i,"font-weight",E(v).style.bold?"bold":"normal"),x(i,"font-style",E(v).style.italic?"italic":"normal"),x(i,"text-transform",E(v).style.uppercase?"uppercase":"none"),x(i,"text-shadow",E(v).style.shadow?"1px 1px 2px black":"none"),Je(g,E(v).text)}),Z(h,i)}),S(n);var y=Fe(n,2),w=L(y);tr(w),S(y),S(l),S(s),re(()=>x(n,"background-color",E(a))),fr(w,()=>E(a),h=>z(a,h)),Z(e,s),qe()}export{Mr as V,nr as a,Tr as b,O as c,fr as d,je as e,Sr as f,xr as g,Cr as h,Qe as i,or as l,tr as r,Nr as s};
