import{a as $,t as C}from"./disclose-version.D3AYHp50.js";import{h as M,ax as B,r as F,N as R,ac as x,P as V,s as P,V as T,w as i,ad as U,c as b,a as y,a8 as j}from"./runtime.D7el5r4C.js";import{s as Y}from"./render.C9mzKRzl.js";import{f as H,e as X,r as q,i as G}from"./attributes.CafjwoZJ.js";import{a as I}from"./props.Detkwk-2.js";function J(e,t){var r=e.__className,a=K(t);M&&e.className===a?e.__className=a:(r!==a||M&&e.className!==a)&&(t==null?e.removeAttribute("class"):e.className=a,e.__className=a)}function K(e){return e??""}function _(e,t,r,a,s){var o=e.__attributes??(e.__attributes={}),u=e.style,n="style-"+t;o[n]===r&&!s||(o[n]=r,r==null?u.removeProperty(t):u.setProperty(t,r,""))}function L(e,t,r,a=r){e.addEventListener(t,r);const s=e.__on_r;s?e.__on_r=()=>{s(),a()}:e.__on_r=a,H()}function Q(e,t,r=t){var a=B();L(e,"input",()=>{var s=A(e)?N(e.value):e.value;r(s),a&&s!==(s=t())&&(e.value=s??"")}),F(()=>{var s=t();if(M&&e.defaultValue!==e.value){r(e.value);return}A(e)&&s===N(e.value)||e.type==="date"&&!s&&!e.value||(e.value=s??"")})}function ye(e,t,r=t){L(e,"change",()=>{var a=e.checked;r(a)}),t()==null&&r(!1),F(()=>{var a=t();e.checked=!!a})}function A(e){var t=e.type;return t==="number"||t==="range"}function N(e){return e===""?null:+e}const W=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],f={color:"#fff",bold:!1,italic:!1,shadow:!1,uppercase:!1,width:"normal"},h="$",Z=["i","o","s","w","n","g","m","z","t"],ee="0123456789ABCDEF",te="#fff";function E(e,t){return e.color==t.color&&e.bold==t.bold&&e.italic==t.italic&&e.shadow==t.shadow&&e.width==t.width&&e.uppercase==t.uppercase}function m(e){e[0]=="#"&&(e=e.slice(1));var t=parseInt(e,16),r=t>>16&255,a=t>>8&255,s=t&255;return[r,a,s]}function g(e){return W.includes(e)}function re(e,t,r){return"#"+(1<<24|e<<16|t<<8|r).toString(16).slice(1)}function S(e,t,r){return"#"+[e,t,r].map(a=>Math.round(a/17).toString(16)).join("")}function ke(e){let t=m(e);return S(t[0],t[1],t[2])}function be(e){let t=m(e);for(let r=0;r<3;r++)t[r]=Math.round(t[r]/17)*17;return re(t[0],t[1],t[2])}function se(e){switch(e){case"i":return 2;case"o":return 1;case"s":return 5;case"w":return 4;case"n":return 3;case"g":return 10;case"m":return 11;case"z":return 12;case"t":return 8;default:return 7}}function ae(e){if(e[0]!=h||e.length<2)return{is_color:!1,color_value:"",skip:0};let t=e.slice(1),r=0;for(let s=0;s<3&&!(t.length<s+1||!ee.includes(t[s].toUpperCase()));s++)r++;if(r==0)return{is_color:!1,color_value:"",skip:0};let a="";for(let s=0;s<r;s++)a+=t[s];return a=a.padEnd(3,"0"),{is_color:!0,color_value:a,skip:r}}function le(e){if(e[0]!=h)return{type:0,value:e[0],skip:0};if(e.length==1)return{type:7,value:e[0],skip:0};if(e[1]==h)return{type:9,value:h,skip:1};let{is_color:t,color_value:r,skip:a}=ae(e);return t?{type:6,value:r,skip:a}:Z.includes(e[1])?{type:se(e[1]),value:"",skip:1}:{type:7,value:e[1],skip:1}}function oe(e){let t=[];for(let r=0;r<e.length;r++){let a=le(e.slice(r));t.push(a),r+=a.skip}return t}function ie(e,t,r){var a=t.map((s,o)=>s-e[o]);return e.map((s,o)=>s+a[o]*r)}function me(e,t,r=!1){let a=O(e,!1),s=a;r||(s=s.filter(l=>!z(l.text)));let o=[...t];s.length<t.length&&(o=o.slice(0,s.length));let u=o.length-1,n=Math.floor(s.length/u),d=[...s];for(let l=0;l<s.length;l++){var k=o[Math.min(Math.floor(l/n),u)],v=o[Math.min(Math.floor(l/n)+1,u)],c=Math.min(1,l%n/n);let p=ie(m(k),m(v),c),w=S(p[0],p[1],p[2]).slice(1);d[l].style.color="#"+w}if(!r)for(let l=0;l<a.length;l++)z(a[l].text)&&d.splice(l,0,{style:l>0?{...a[l-1].style}:{...f},text:a[l].text});return D(d)}function z(e){return e!=""&&e.trim()==""}function ge(e){let t=[],r={...f};for(let s=0;s<e.length;s++){if(!E(r,f)&&E(e[s].style,f))t.push({type:12,value:"",skip:0}),r={...f};else{if(e[s].style.color!=r.color&&(e[s].style.color!=te?t.push({type:6,value:e[s].style.color.slice(1,4),skip:0}):t.push({type:10,value:"",skip:0}),r.color=e[s].style.color),e[s].style.width!=r.width){switch(e[s].style.width){case"narrow":t.push({type:3,value:"",skip:0});break;case"wide":t.push({type:4,value:"",skip:0});break;case"normal":t.push({type:11,value:"",skip:0});break}r.width=e[s].style.width}e[s].style.uppercase!=r.uppercase&&(t.push({type:8,value:"",skip:0}),r.uppercase=e[s].style.uppercase),e[s].style.bold!=r.bold&&(t.push({type:1,value:"",skip:0}),r.bold=e[s].style.bold),e[s].style.italic!=r.italic&&(t.push({type:2,value:"",skip:0}),r.italic=e[s].style.italic),e[s].style.shadow!=r.shadow&&(t.push({type:5,value:"",skip:0}),r.shadow=e[s].style.shadow)}for(let o=0;o<e[s].text.length;o++)e[s].text[o]==h?t.push({type:9,value:h,skip:0}):t.push({type:0,value:e[s].text[o],skip:0})}return ne(t)}function ne(e){let t="";for(let r of e)switch(r.type){case 0:t+=r.value;break;case 9:t+="$$";break;case 6:t+="$"+r.value;break;case 1:t+="$o";break;case 2:t+="$i";break;case 10:t+="$g";break;case 12:t+="$z";break;case 3:t+="$n";break;case 5:t+="$s";break;case 8:t+="$t";break;case 4:t+="$w";break;case 11:t+="$m";break}return t}function D(e){for(let r=e.length-1;r>0;r--)E(e[r].style,e[r-1].style)&&!g(e[r].text)&&!g(e[r-1].text)&&(e[r-1].text+=e[r].text,e[r].text="");return e.filter(r=>r.text.length>0)}function ce(e,t=!0){let r=[],a={...f};for(const s of e){if(s.type==0||s.type==9){r.push({style:{...a},text:s.value});continue}switch(s.type){case 1:a.bold=!a.bold;break;case 2:a.italic=!a.italic;break;case 8:a.uppercase=!a.uppercase;break;case 5:a.shadow=!0;break;case 4:a.width="wide";break;case 3:a.width="narrow";break;case 6:a.color="#"+s.value;break;case 10:a.color=f.color;break;case 11:a.width=f.width;break;case 12:a={...f};break}}return t?D(r):r}function O(e,t=!0){let r=oe(e);return ce(r,t)}var ue=C("<span> </span>"),fe=C('<section><div class="flex row align-center" style="gap:1rem;"><div id="result" class="grow svelte-15u2b5z"></div> <div class="shrink"><input title="Background Color" id="bgcolor" type="color"></div></div></section>');function we(e,t){R(t,!0);let r=U("#000000"),a=I(t,"tm_text",3,""),s=I(t,"tm_data",19,()=>[]);var o=fe(),u=b(o),n=b(u);X(n,21,()=>s().length==0?O(a()):s(),G,(v,c)=>{var l=ue();x(()=>J(l,`${(g(i(c).text)?i(c).style.width+"-icon":i(c).style.width)??""} svelte-15u2b5z`));const p=j(()=>g(i(c).text)?"FontAwesome":"Roboto Flex");var w=b(l);y(l),x(()=>{_(l,"color",i(c).style.color),_(l,"font-weight",i(c).style.bold?"bold":"normal"),_(l,"font-style",i(c).style.italic?"italic":"normal"),_(l,"text-transform",i(c).style.uppercase?"uppercase":"none"),_(l,"text-shadow",i(c).style.shadow?"1px 1px 2px black":"none"),_(l,"font-family",i(p)),Y(w,i(c).text)}),$(v,l)}),y(n);var d=P(n,2),k=b(d);q(k),y(d),y(u),y(o),x(()=>_(n,"background-color",i(r))),Q(k,()=>i(r),v=>T(r,v)),$(e,o),V()}export{W as I,we as V,Q as a,ye as b,O as c,D as d,me as e,be as f,ke as h,ge as t};
