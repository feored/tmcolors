import{a as z,t as V}from"../chunks/disclose-version.BmLt8JCM.js";import{J as ue,b as _e,h as k,T as S,V as fe,M as Z,t as ve,_ as Q,ad as de,ae as q,R as B,c as D,W as he,af as j,a as ee,ag as be,ak as pe,m as P,j as T,al as ge,am as ke,H as ye,s as Y,an as xe,ao as me,Z as te,ap as we,d as Ee,O as Ae,aq as Ie,ar as Te,as as $e,v as Ce,p as re,a9 as U,e as ae,l as b,aa as C,ab as $,ac as g,aj as L}from"../chunks/runtime.DdStylnH.js";import{s as Ne,d as De}from"../chunks/render.DhA9a-Dy.js";import{p as Me,b as Re,a as Le}from"../chunks/props.B5BNwlmY.js";let F=null;function Se(e,t){return t}function Be(e,t,r,a){for(var l=[],n=t.length,o=0;o<n;o++)me(t[o].e,l,!0);var u=n>0&&l.length===0&&r!==null;if(u){var f=r.parentNode;te(f),f.append(r),a.clear(),E(e,t[0].prev,t[n-1].next)}we(l,()=>{for(var s=0;s<n;s++){var c=t[s];u||(a.delete(c.k),E(e,c.prev,c.next)),Ee(c.e,!u)}})}function Fe(e,t,r,a,l,n=null){var o=e,u={flags:t,items:new Map,first:null};{var f=e;o=k?S(Z(f)):f.appendChild(ue())}k&&fe();var s=null;_e(()=>{var c=r(),_=ve(c)?c:c==null?[]:Q(c),v=_.length;let d=!1;if(k){var h=o.data===de;h!==(v===0)&&(o=q(),S(o),B(!1),d=!0)}if(k){for(var x=null,i,p=0;p<v;p++){if(D.nodeType===8&&D.data===he){o=D,d=!0,B(!1);break}var A=_[p],m=a(A,p);i=le(D,u,x,null,A,m,p,l,t),u.items.set(m,i),x=i}v>0&&S(q())}k||Oe(_,u,o,l,t,a),n!==null&&(v===0?s?j(s):s=ee(()=>n(o)):s!==null&&be(s,()=>{s=null})),d&&B(!0)}),k&&(o=D)}function Oe(e,t,r,a,l,n){var o=e.length,u=t.items,f=t.first,s=f,c,_=null,v=[],d=[],h,x,i,p;for(p=0;p<o;p+=1){if(h=e[p],x=n(h,p),i=u.get(x),i===void 0){var A=s?s.e.nodes_start:r;_=le(A,t,_,_===null?t.first:_.next,h,x,p,a,l),u.set(x,_),v=[],d=[],s=_.next;continue}if(ze(i,h,p),i.e.f&pe&&j(i.e),i!==s){if(c!==void 0&&c.has(i)){if(v.length<d.length){var m=d[0],w;_=m.prev;var I=v[0],N=v[v.length-1];for(w=0;w<v.length;w+=1)W(v[w],m,r);for(w=0;w<d.length;w+=1)c.delete(d[w]);E(t,I.prev,N.next),E(t,_,I),E(t,N,m),s=m,_=N,p-=1,v=[],d=[]}else c.delete(i),W(i,s,r),E(t,i.prev,i.next),E(t,i,_===null?t.first:_.next),E(t,_,i),_=i;continue}for(v=[],d=[];s!==null&&s.k!==x;)(c??(c=new Set)).add(s),d.push(s),s=s.next;if(s===null)continue;i=s}v.push(i),_=i,s=i.next}if(s!==null||c!==void 0){for(var y=c===void 0?[]:Q(c);s!==null;)y.push(s),s=s.next;var ie=y.length;if(ie>0){var ce=o===0?r:null;Be(t,y,ce,u)}}P.first=t.first&&t.first.e,P.last=_&&_.e}function ze(e,t,r,a){T(e.v,t),e.i=r}function le(e,t,r,a,l,n,o,u,f){var s=F;try{var c=(f&ge)!==0,_=(f&ke)===0,v=c?_?ye(l):Y(l):l,d=f&xe?Y(o):o,h={i:d,v,k:n,a:null,e:null,prev:r,next:a};return F=h,h.e=ee(()=>u(e,v,d),k),h.e.prev=r&&r.e,h.e.next=a&&a.e,r===null?t.first=h:(r.next=h,r.e.next=h.e),a!==null&&(a.prev=h,a.e.prev=h.e),h}finally{F=s}}function W(e,t,r){for(var a=e.next?e.next.e.nodes_start:r,l=t?t.e.nodes_start:r,n=e.e.nodes_start;n!==a;){var o=Ae(n);l.before(n),n=o}}function E(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function He(e){k&&Z(e)!==null&&te(e)}let X=!1;function ne(){X||(X=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function se(e){if(k){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var a=e.value;G(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var l=e.checked;G(e,"checked",null),e.checked=l}}};e.__on_r=r,Ie(r),ne()}}function G(e,t,r,a){var l=e.__attributes??(e.__attributes={});k&&(l[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||l[t]!==(l[t]=r)&&(t==="loading"&&(e[Te]=r),e.removeAttribute(t))}function Ve(e,t){var r=e.__className,a=qe(t);k&&e.className===a?e.__className=a:(r!==a||k&&e.className!==a)&&(t==null?e.removeAttribute("class"):e.className=a,e.__className=a)}function qe(e){return e??""}function M(e,t,r,a,l){var n=e.__attributes??(e.__attributes={}),o=e.style,u="style-"+t;n[u]===r&&!l||(n[u]=r,r==null?o.removeProperty(t):o.setProperty(t,r,""))}function Pe(e,t,r,a=r){e.addEventListener(t,r);const l=e.__on_r;l?e.__on_r=()=>{l(),a()}:e.__on_r=a,ne()}function H(e,t,r=t){var a=$e();Pe(e,"input",()=>{var l=J(e)?K(e.value):e.value;r(l),a&&l!==(l=t())&&(e.value=l??"")}),Ce(()=>{var l=t();if(k&&e.defaultValue!==e.value){r(e.value);return}J(e)&&l===K(e.value)||e.type==="date"&&!l&&!e.value||(e.value=l??"")})}function J(e){var t=e.type;return t==="number"||t==="range"}function K(e){return e===""?null:+e}const R={color:"#fff",bold:!1,italic:!1,shadow:!1,width:"normal"},O="$",Ye=["i","o","s","w","n","g","m","z","$"],Ue="0123456789ABCDEF";function oe(e){e[0]=="#"&&(e=e.slice(1));var t=parseInt(e,16),r=t>>16&255,a=t>>8&255,l=t&255;return[r,a,l]}function We(e,t,r){return"#"+(1<<24|e<<16|t<<8|r).toString(16).slice(1)}function Xe(e,t,r){return"#"+[e,t,r].map(a=>Math.round(a/17).toString(16)).join("")}function Ge(e){let t=oe(e);return Xe(t[0],t[1],t[2])}function Je(e){let t=oe(e);console.log(t);for(let r=0;r<3;r++)t[r]=Math.round(t[r]/17)*17;return console.log(t),We(t[0],t[1],t[2])}function Ke(e){switch(e){case"i":return 2;case"o":return 1;case"s":return 5;case"w":return 4;case"n":return 3;case"g":return 8;case"m":return 9;case"z":return 10;default:return 7}}function Ze(e){return e[0]!=O?{type:0,value:e[0]}:e.length==1?{type:0,value:""}:e.length>=4&&e.slice(1,4).split("").every(t=>Ue.includes(t.toUpperCase()))?{type:6,value:e.slice(1,4)}:e[1]==O?{type:0,value:O}:Ye.includes(e[1])?{type:Ke(e[1]),value:""}:{type:7,value:e[1]}}function Qe(e){let t=[];for(let r=0;r<e.length;r++){let a=Ze(e.slice(r));switch(t.push(a),a.type){case 0:break;case 6:r+=3;break;default:r+=1;break}}return t}function je(e){let t=Qe(e),r=[],a={...R},l=(n,o)=>n.color==o.color&&n.bold==o.bold&&n.italic==o.italic&&n.shadow==o.shadow&&n.width==o.width;for(const n of t){if(n.type==0||n.type==7){r.length==0||!l(r[r.length-1].style,a)?r.push({style:{...a},text:n.value}):r[r.length-1].text+=n.value;continue}switch(n.type){case 1:a.bold=!0;break;case 2:a.italic=!0;break;case 5:a.shadow=!0;break;case 4:a.width="wide";break;case 3:a.width="narrow";break;case 6:a.color="#"+n.value;break;case 8:a.color=R.color;break;case 9:a.width=R.width;break;case 10:a={...R};break}}return r}var et=V("<span> </span>"),tt=V('<section><div id="result" class="svelte-dq4mpg"></div> <label for="bgcolor"><small>Background Color</small></label> <input id="bgcolor" type="color" class="svelte-dq4mpg"></section>');function rt(e,t){re(t,!0);let r=L("#808080"),a=Me(t,"tm_text",3,"");var l=tt(),n=C(l);Fe(n,21,()=>je(a()),Se,(u,f)=>{var s=et(),c=C(s);$(s),U(()=>{Ve(s,`${b(f).style.width??""} svelte-dq4mpg`),M(s,"color",b(f).style.color),M(s,"font-weight",b(f).style.bold?"bold":"normal"),M(s,"font-style",b(f).style.italic?"italic":"normal"),M(s,"text-shadow",b(f).style.shadow?"1px 1px 2px black":"none"),Ne(c,b(f).text)}),z(u,s)}),$(n);var o=g(n,4);se(o),$(l),U(()=>M(n,"background-color",b(r))),H(o,()=>b(r),u=>T(r,u)),z(e,l),ae()}var at=(e,t)=>t("$w"),lt=(e,t)=>t("$n"),nt=(e,t)=>t("$m"),st=(e,t)=>{t()},ot=(e,t,r)=>t("$"+Ge(b(r)).slice(1)),it=(e,t)=>t("$g"),ct=(e,t)=>t("$i"),ut=(e,t)=>t("$b"),_t=(e,t)=>t("$s"),ft=(e,t)=>t("$z"),vt=V(`<main><h3>Trackmania Formatting Tool</h3> <fieldset class="flex svelte-661rc0"><button><span class="roboto wide">Wide</span></button> <button><span class="robot narrow">Narrow</span></button> <button class="success">Reset Width</button></fieldset> <fieldset class="flex svelte-661rc0"><input type="color" style="width:3rem;height:3rem"> <button>Apply Color</button> <button class="success">Reset Color</button></fieldset> <fieldset class="flex svelte-661rc0"><button><i>Italic</i></button> <button><b>Bold</b></button> <button><span style="text-shadow: 1px 1px 2px black'">Shadow</span></button> <button class="success">Reset All Styles</button></fieldset> <textarea class="svelte-661rc0"></textarea> <br> <!></main>`);function gt(e,t){re(t,!0);let r=L("$i$fff/$beeo$CFDnz$fff/$CFCf$CFDe$BEDo$BEEr"),a=L(null),l=L("#ffffff");function n(y){T(r,b(r)+y),b(a)&&b(a).focus()}function o(){T(l,Le(Je(b(l)))),console.log(b(l))}var u=vt(),f=g(C(u),2),s=C(f);s.__click=[at,n];var c=g(s,2);c.__click=[lt,n];var _=g(c,2);_.__click=[nt,n],$(f);var v=g(f,2),d=C(v);se(d),d.__input=[st,o];var h=g(d,2);h.__click=[ot,n,l];var x=g(h,2);x.__click=[it,n],$(v);var i=g(v,2),p=C(i);p.__click=[ct,n];var A=g(p,2);A.__click=[ut,n];var m=g(A,2);m.__click=[_t,n];var w=g(m,2);w.__click=[ft,n],$(i);var I=g(i,2);Re(I,y=>T(a,y),()=>b(a)),He(I);var N=g(I,4);rt(N,{get tm_text(){return b(r)}}),$(u),H(d,()=>b(l),y=>T(l,y)),H(I,()=>b(r),y=>T(r,y)),z(e,u),ae()}De(["click","input"]);export{gt as component};
